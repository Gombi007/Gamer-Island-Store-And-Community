<div class="form">
    <form [formGroup]="createNoteForm" (ngSubmit)="onSubmit()" #form="ngForm">
        <mat-form-field appearance="standard" color="accent">
            <mat-label>Title</mat-label>
            <input matInput placeholder="Write a title" id="title" name="title" formControlName="title">
            <mat-hint class="mat-hint">
                <p
                    *ngIf="!createNoteForm.get('title')?.valid && !createNoteForm.get('title')?.errors?.['maxlength'] && createNoteForm.get('title')?.touched ">
                    Title is required
                </p>
                <p *ngIf="createNoteForm.get('title')?.errors?.['maxlength']">
                    Title max length is 30 character
                </p>

            </mat-hint>
        </mat-form-field>

        <mat-form-field appearance="standard" color="accent">
            <mat-label>Text</mat-label>
            <input matInput placeholder="Write some text" id="text" name="text" formControlName="text">
            <mat-hint class="mat-hint">
                <p
                    *ngIf="!createNoteForm.get('text')?.valid && !createNoteForm.get('text')?.errors?.['maxlength'] && createNoteForm.get('text')?.touched">
                    Please add some text
                </p>
                <p *ngIf="createNoteForm.get('text')?.errors?.['maxlength']">
                    Text max length is 160 character
                </p>
            </mat-hint>
        </mat-form-field>

        <mat-form-field appearance="standard" color="accent">
            <mat-label>Website Url</mat-label>
            <input type="url" matInput placeholder="Add a website url if you want" id="link" name="link"
                formControlName="link">
        </mat-form-field>

        <div class="img-video-url">

            <button mat-icon-button color="primary" type="button" (click)="addImageOrVideoLink('add-img')">
                <mat-icon [class.selected-url-btn]="clickedUrlBtn ==='add-img'">imagesmode</mat-icon>
            </button>

            <button mat-icon-button color="primary" type="button" (click)="addImageOrVideoLink('add-youtube')">
                <mat-icon [class.selected-url-btn]="clickedUrlBtn ==='add-youtube'">smart_display</mat-icon>
            </button>

            <button mat-icon-button color="primary" type="button" (click)="addImageOrVideoLink('add-video')">
                <mat-icon [class.selected-url-btn]="clickedUrlBtn ==='add-video'">movie</mat-icon>
            </button>
        </div>

        <div class="img-video-url-input">

            <mat-form-field appearance="standard" color="accent" *ngIf="clickedUrlBtn ==='add-img'">
                <mat-label>Image Url</mat-label>
                <input type="url" matInput placeholder="Add an image url from web if you want" id="imgUrl" name="imgUrl"
                    formControlName="imgUrl">
            </mat-form-field>

            <mat-form-field appearance="standard" color="accent" *ngIf="clickedUrlBtn ==='add-youtube'">
                <mat-label>YouTube Url</mat-label>
                <input type="url" matInput placeholder="Add a YouTube url if you want" id="ytUrl" name="ytUrl"
                    formControlName="ytUrl">
            </mat-form-field>

            <mat-form-field appearance="standard" color="accent" *ngIf="clickedUrlBtn ==='add-video'">
                <mat-label>Video Url</mat-label>
                <input type="url" matInput placeholder="Add a Video link if you want. For example: Steam" id="videoUrl"
                    name="videoUrl" formControlName="videoUrl">
            </mat-form-field>
        </div>

        <br>

        <mat-checkbox class="example-margin" name="visibilityOnlyForMe" id="visibilityOnlyForMe"
            formControlName="visibilityOnlyForMe">
            Visibility private
        </mat-checkbox>

        <br>

        <mat-checkbox class="example-margin" name="isFavorite" id="isFavorite" formControlName="isFavorite">
            Add to favorites
        </mat-checkbox>

        <div class="btn-area">
            <button mat-raised-button type="submit" [disabled]="!createNoteForm.valid">{{buttonLabel}}</button>
            <button mat-raised-button type="button" (click)="cancelModifyAndBack()">Cancel</button>
        </div>

    </form>
</div>

<div class="success">
    <ng-container *ngIf="!isPending && (isSuccess || isModifySuccess)">
        <mat-icon aria-hidden="false" fontIcon="done"></mat-icon>
        <ng-container>
            <p *ngIf="!isPending && isSuccess">The note was created successfully!</p>
            <p *ngIf="!isPending && isModifySuccess">The note was modified successfully!</p>
        </ng-container>
    </ng-container>
</div>
<app-pending *ngIf="isPending"></app-pending>
<app-navigation-mobile-notes></app-navigation-mobile-notes>